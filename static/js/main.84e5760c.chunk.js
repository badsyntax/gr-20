(this["webpackJsonpgr-20"]=this["webpackJsonpgr-20"]||[]).push([[0],{103:function(e,t,n){e.exports={ControlButton:"ControlButton_ControlButton__3stTO",ControlButton__container:"ControlButton_ControlButton__container__3bvxv",ControlButton__close:"ControlButton_ControlButton__close__2X7iC","ControlButton__close-button":"ControlButton_ControlButton__close-button__w3FfZ"}},108:function(e){e.exports=JSON.parse('[{"name":"ESRI World Imagery Satelite","url":"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}","attribution":"Tiles &copy; <a href=\\"https://www.arcgis.com/index.html\\">Esri</a> &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"},{"name":"OpenTopo","url":"https://{a-c}.tile.opentopomap.org/{z}/{x}/{y}.png"},{"name":"OpenStreetMap France","url":"https://{a-c}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png","attribution":"&copy; Openstreetmap France | &copy; <a href=\\"http://www.openstreetmap.org/copyright\\">OpenStreetMap</a>"}]')},128:function(e,t,n){e.exports={"IndexPage__background-image":"IndexPage_IndexPage__background-image__8Mq0N",IndexPage__main:"IndexPage_IndexPage__main__1KiXR",IndexPage__heading:"IndexPage_IndexPage__heading__2nkqo",IndexPage__summary:"IndexPage_IndexPage__summary__3EYxj"}},147:function(e,t,n){e.exports={table:"PointData_table__n_vwp"}},168:function(e,t,n){e.exports={DropdownGroup:"DropdownGroup_DropdownGroup__14KIR"}},171:function(e,t,n){e.exports={MapControls:"MapControls_MapControls__sDdcj","MapControls__button-control":"MapControls_MapControls__button-control__1zU34"}},204:function(e,t,n){e.exports={App:"App_App__2mBMi"}},205:function(e,t,n){e.exports={BackgroundImage:"BackgroundImage_BackgroundImage__3Y_TA"}},206:function(e,t,n){e.exports={MapPage:"MapPage_MapPage__2ScJA"}},211:function(e,t,n){e.exports={Map:"Map_Map__3R7Yv"}},213:function(e,t,n){e.exports={Popup:"Popup_Popup__26Fqg","Popup__button-control":"Popup_Popup__button-control__12RRG"}},215:function(e,t,n){e.exports={"tab-pane":"PopupBody_tab-pane__BNpHb"}},216:function(e,t,n){e.exports={footer:"PopupFooter_footer__1E23m"}},219:function(e,t,n){e.exports={AboutPage:"AboutPage_AboutPage__b9WnT"}},220:function(e,t,n){e.exports={NotFoundPage:"NotFoundPage_NotFoundPage__3Ouc4"}},255:function(e,t,n){},313:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n(2),c=n.n(a),o=n(73),i=n.n(o),s=n(61),l=n(48),u=n(58),j=n(38),d=n(42),b=n(52),p=n.n(b),h=n(338),f=n(339),O=n(340),x=n(341),m=n(332),g=n(333),v=n(334),w=n(219),y=n.n(w),_=p.a.bind(y.a),k=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(s.a,{children:Object(r.jsx)("title",{children:"GR-20 - About"})}),Object(r.jsxs)("div",{className:_("AboutPage"),children:[Object(r.jsx)(h.a,{color:"dark",dark:!0,expand:"sm",children:Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(f.a,{tag:u.b,to:"/",title:"Home",children:"GR-20"}),Object(r.jsx)(O.a,{onClick:function(){c(!n)}}),Object(r.jsx)(x.a,{isOpen:n,navbar:!0,children:Object(r.jsxs)(m.a,{className:"ml-auto",navbar:!0,children:[Object(r.jsx)(g.a,{children:Object(r.jsx)(v.a,{tag:u.b,to:"/map/",children:"Routes"})}),Object(r.jsx)(g.a,{children:Object(r.jsx)(v.a,{tag:u.b,to:"/kit/",children:"Kit"})}),Object(r.jsx)(g.a,{active:!0,children:Object(r.jsx)(v.a,{tag:u.b,to:"/about/",children:"About"})})]})})]})}),Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("div",{className:"mt-3",children:Object(r.jsx)("h1",{children:"About this GR-20 site"})}),Object(r.jsxs)("p",{className:"lead",children:["This is a hobby fan site made for the GR-20 route in Corsica, France. The intention is to provide useful resources to help"," ",Object(r.jsx)("a",{href:"https://github.com/badsyntax",children:"me"})," and you plan and explore the route/s and island."]}),Object(r.jsx)("div",{className:"mt-3",children:Object(r.jsx)("h2",{children:"Goals"})}),Object(r.jsx)("p",{children:"Here are some high-level goals I'd like to achieve with this site, in no particular order:"}),Object(r.jsxs)("ul",{children:[Object(r.jsxs)("li",{children:["0 maintenance overhead - I want to be able to step away from this project at any point.",Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"No reliance on any custom server-side tech for runtime. Purely front-end application that calls remote API's."}),Object(r.jsx)("li",{children:"No fees to pay (hosted on a free service, like GitHub pages)"})]})]}),Object(r.jsx)("li",{children:"Use and share open data. Not-for profit. Open-source. All for passion of the route."}),Object(r.jsxs)("li",{children:["Collaborative effort.",Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"I need help with the GPS data. I would like to have GPX routes for the variants and other routes on the island. I plan to record more data when I do the route again in June 2019 but if anyone wants to submit their GPS data it would super useful!"}),Object(r.jsxs)("li",{children:["If you'd like to contribute, you can so via GitHub. Just"," ",Object(r.jsxs)("a",{href:"https://github.com/badsyntax/gr-20/issues",children:["create an issue"," "]})," ","to get a conversation going. If you don't have an account you'll need to sign-up but it's free."]})]})]})]}),Object(r.jsx)("div",{className:"mt-3",children:Object(r.jsx)("h2",{children:"Tech used"})}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"OpenLayers V5"}),Object(r.jsx)("li",{children:"OpenStreetMap"}),Object(r.jsx)("li",{children:"React"}),Object(r.jsx)("li",{children:"Bootstrap"})]}),Object(r.jsxs)("div",{className:"mt-3",children:[Object(r.jsx)("h2",{children:"Other Resources"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"http://corsica.forhikers.com/forum/gr-20",children:"http://corsica.forhikers.com/forum/gr-20"})}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"https://gr20corsica.wordpress.com/about/",children:"https://gr20corsica.wordpress.com/about/"})}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"http://www.le-gr20.fr/en/",children:"http://www.le-gr20.fr/en/"})}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"https://www.cicerone.co.uk/the-gr20-corsica",children:"https://www.cicerone.co.uk/the-gr20-corsica"})})]})]})]})]})]})},P=n(92),C=n(24),F=n(50),N=n(11),S=n.n(N),E=n(205),I=n.n(E),G=function(e){var t=e.imageUrl,n=e.children,a=e.className,c=e.opacity,o=void 0===c?.25:c,i=Object(F.a)(e,["imageUrl","children","className","opacity"]);return Object(r.jsx)("div",Object(C.a)(Object(C.a)({className:S()(I.a.BackgroundImage,a),style:{backgroundImage:"linear-gradient(\n        rgba(0, 0, 0, ".concat(o,"),\n        rgba(0, 0, 0, ").concat(o,')\n      ), url("').concat(t,'")')}},i),{},{children:n}))},R=n.p+"static/media/cover.1720f202.jpg",L=n(128),M=n.n(L),U=function(){return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(s.a,{children:Object(r.jsx)("title",{children:"GR-20"})}),Object(r.jsxs)(G,{imageUrl:R,className:M.a["IndexPage__background-image"],children:[Object(r.jsx)("a",{href:"https://github.com/badsyntax/gr-20",children:Object(r.jsx)("img",{style:{position:"absolute",top:0,left:0},src:"https://s3.amazonaws.com/github/ribbons/forkme_left_darkblue_121621.png",alt:"Fork me on GitHub"})}),Object(r.jsxs)("main",{role:"main",className:M.a.IndexPage__main,children:[Object(r.jsx)("h1",{className:M.a.IndexPage__heading,children:"GR-20"}),Object(r.jsx)("p",{className:M.a.IndexPage__summary,children:'The GR 20 is a GR footpath that crosses the Mediterranean island of Corsica running approximately north-south, described by the outdoor writer Paddy Dillon as "one of the top trails in the world".'}),Object(r.jsxs)("p",{children:[Object(r.jsxs)(u.b,{to:"/map/",className:"btn btn-lg btn-primary",children:["View Routes ",Object(r.jsx)(P.a,{})]}),"  ",Object(r.jsxs)(u.b,{to:"/kit/",className:"btn btn-lg btn-primary",children:["View Kit ",Object(r.jsx)(P.a,{})]}),"  ",Object(r.jsxs)(u.b,{to:"/about/",className:"btn btn-lg btn-primary",children:["About ",Object(r.jsx)(P.a,{})]})]})]})]})]})},A=n(8),D=n(221),B=n(26),V=n(9),T=n(148),z=n(41),W=n(84),X=A.a.MULTI_LINE_STRING,H=A.a.POINT,J=function(e){return Math.round(e[2])},K=function(e){return{lonLat:Object(V.l)(e),hdms:function(e){var t=Object(V.l)(e);return Object(z.f)(t)}(e),elevation:J(e)}},Y=function(e,t,n){var r=q(n.getSource().getFeatures());if(!r)throw new Error("unable to find multiLine feature in gpx vector layer");var a=r.getGeometry().getCoordinates()[0],c=$(e,r),o=$(t,r);return function(e){var t=e.reduce((function(t,n,r){if(r===e.length-1)return t;var a=e[r+1];t.distance+=new W.a([n,a]).getLength();var c=J(n),o=J(a)-c;return o<0?t.elevationGainDown+=Math.abs(o):t.elevationGainUp+=o,t}),{distance:0,elevationGainUp:0,elevationGainDown:0,distanceInKm:""});return t.distanceInKm=(t.distance/1e3).toFixed(2),t}(a.slice(c,o))},q=function(e){return e.find((function(e){return e.getGeometry().getType()===X}))},Z=function(e){return e.filter((function(e){return e.getGeometry().getType()===H}))},$=function(e,t){var n=t.getGeometry().getCoordinates()[0],r=t.getGeometry().getClosestPoint(e.getGeometry().getCoordinates());return n.findIndex((function(e){return new W.a([e,r]).getLength()<50}))},Q=function(e){var t=Z(e.getFeatures()),n=q(e.getFeatures());if(!n)throw new Error("getSortedPointFeatures: unable to find multiLine feature in gpx vector layer");return t.map((function(e){return{featurePoint:e,index:$(e,n)}})).sort((function(e,t){return e.index-t.index})).map((function(e){return e.featurePoint}))},ee=n(223),te=n(40),ne=n(227),re=n(224),ae=n(46),ce=n(112),oe=n(91),ie=Object(oe.b)({name:"Spinner",initialState:{isVisible:!1},reducers:{showSpinner:function(e){e.isVisible=!0},hideSpinner:function(e){e.isVisible=!1}}}),se=ie.actions,le=se.showSpinner,ue=se.hideSpinner,je=ie.reducer,de=Object(a.memo)((function(e){var t=e.gpxUrl,n=e.vectorLayer,r=e.onReady,c=Object(l.b)();return Object(a.useEffect)((function(){c(le());var e=new re.a({readExtensions:function(e,t){t&&Object(ne.a)(Array.from(t.getElementsByTagName("gr20"))).forEach((function(t){var n=t.getAttribute("name");if(n){var r=t.textContent;e.setProperties(Object(te.a)({},n,r))}}))}}),a=new ce.a({url:t,format:e});return n.setSource(a),a.once("change",(function(){a.getState()===ae.a.READY&&(c(ue()),r(a))})),function(){a.dispose()}}),[c,t,r,n]),null})),be=n(127),pe=n(78),he=n(79),fe=n(77),Oe={Point:new fe.b({image:new be.a({fill:new pe.a({color:"rgb(255,255,0,1)"}),stroke:new he.a({color:"rgba(0,60,136)",width:1}),radius:5})}),MultiLineString:new fe.b({stroke:new he.a({color:"rgba(0,60,136)",width:4})})},xe=new ee.a;xe.set("id","gpx-vector-layer"),xe.setStyle((function(e){var t=e.getGeometry().getType().toString();return Oe[t]}));var me=Object(a.memo)((function(e){var t=e.map,n=e.onSourceReady,c=e.gpxUrl,o=e.showMarkers,i=e.showRoute,s=e.children,l=Object(a.useState)([]),u=Object(d.a)(l,2),j=u[0],b=u[1],p=Object(a.useState)(),h=Object(d.a)(p,2),f=h[0],O=h[1],x=Object(a.useCallback)((function(e){var t=xe.getSource();e?Z(t.getFeatures()).length||j.forEach((function(e){t.addFeature(e)})):j.forEach((function(e){return t.removeFeature(e)}))}),[j]),m=Object(a.useCallback)((function(e){if(f)if(e){var t=xe.getSource();q(t.getFeatures())||xe.getSource().addFeature(f)}else xe.getSource().removeFeature(f)}),[f]),g=Object(a.useCallback)((function(e){n(e);var t=e.getFeatures();b(Z(t)),O(q(t))}),[n]);return Object(a.useEffect)((function(){t.addLayer(xe)}),[t]),Object(a.useEffect)((function(){x(o)}),[o,x]),Object(a.useEffect)((function(){m(i)}),[i,m]),Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(de,{gpxUrl:c,vectorLayer:xe,onReady:g}),s&&s(xe)]})})),ge=n(35),ve=n.n(ge),we=n(59),ye=n(344),_e=n(325),ke=n(326),Pe=n(316),Ce=n(321),Fe=n(322),Ne=n(323),Se=n(327),Ee=n(328),Ie=n(207),Ge=n(212),Re=n(5),Le={a0:[1189,841],a1:[841,594],a2:[594,420],a3:[420,297],a4:[297,210],a5:[210,148]},Me=function(){var e=Object(we.a)(ve.a.mark((function e(t,r){var a,c,o,i,s,l=arguments;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>2&&void 0!==l[2]?l[2]:"a4",c=l.length>3&&void 0!==l[3]?l[3]:150,o=!(l.length>4&&void 0!==l[4])||l[4],i=l.length>5&&void 0!==l[5]?l[5]:null,s=l.length>6&&void 0!==l[6]?l[6]:function(e){},e.abrupt("return",new Promise(function(){var e=Object(we.a)(ve.a.mark((function e(l){var u,j,d,b,p,h,f,O,x;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=6;break}return e.next=3,n.e(7).then(n.bind(null,721));case 3:u=e.sent,j=u.default,r=new j("landscape",void 0,a);case 6:d=Le[a],b=t.getSize(),p=t.getView().calculateExtent(b),h=Math.round(d[0]*c/25.4),f=Math.round(d[1]*c/25.4),O=[h,f],x=t.getView().getResolution(),t.once("rendercomplete",(function(){var e=document.createElement("canvas");e.width=h,e.height=f;var n=e.getContext("2d");if(n){var a;Array.prototype.forEach.call(document.querySelectorAll(".ol-layer canvas"),(function(e){if(e.width>0){var t=e.parentNode.style.opacity;n.globalAlpha=""===t?1:Number(t);var r=e.style.transform.match(/^matrix\(([^(]*)\)$/)[1].split(",").map(Number);CanvasRenderingContext2D.prototype.setTransform.apply(n,r),n.drawImage(e,0,0)}})),s(e);var c=e.toDataURL("image/jpeg");null===(a=r)||void 0===a||a.addImage(c,"JPEG",0,0,d[0],d[1])}o&&(t.setSize(b),t.getView().fit(i||p,{size:b}),t.getView().setResolution(x)),l(r)})),t.setSize(O),t.getView().fit(i||p,{size:O});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ue=function(e,t,n){var r=e.getContext("2d");r&&(r.font="16px Arial",r.fillStyle="black",r.shadowColor="black",r.shadowBlur=7,r.lineWidth=5,r.fillText("\xa9 OpenStreetMap contributors \xa9 koenverhoeven on Wikiloc ",6,e.height-4),r.shadowBlur=0,r.fillStyle="white",r.fillText("\xa9 OpenStreetMap contributors \xa9 koenverhoeven on Wikiloc ",5,e.height-5),r.shadowBlur=0,r.fillStyle="white",r.fillText("".concat(t.getProperties().name," to ").concat(n.getProperties().name),5,20))},Ae=function(){var e=Object(we.a)(ve.a.mark((function e(t,n,r,a,c,o){var i,s,l,u;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=a.slice(0,-1),c(),s=void 0,l=ve.a.mark((function e(c){var o;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(Re.b)([a[c].getGeometry().getCoordinates(),a[c+1].getGeometry().getCoordinates()]),e.next=3,Me(t,s,n,r,!1,o,(function(e){Ue(e,a[c],a[c+1])}));case 3:s=e.sent,c<a.length-2&&s.addPage();case 5:case"end":return e.stop()}}),e)})),u=0;case 5:if(!(u<i.length)){e.next=10;break}return e.delegateYield(l(u),"t0",7);case 7:u++,e.next=5;break;case 10:return o(),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,o){return e.apply(this,arguments)}}(),De=function(){var e=Object(we.a)(ve.a.mark((function e(t,n,r,a,c){var o,i,s;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),o=t.getSize(),i=t.getView().calculateExtent(o),e.next=5,Me(t,void 0,n,r,!1,i);case 5:return s=e.sent,c(),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),Be="all",Ve="current",Te=function(){var e=Object(we.a)(ve.a.mark((function e(t,n){var r,a,c,o;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof(r=t.getUrl())){e.next=10;break}return e.next=4,fetch(r);case 4:return a=e.sent,e.next=7,a.text();case 7:c=e.sent,(o=r.split("/").pop())&&n.file(o,c);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ze=function(){var e=Object(we.a)(ve.a.mark((function e(t,n,r,a,c){var o,i,s,l,u,j,d=arguments;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=d.length>5&&void 0!==d[5]?d[5]:"map.pdf",i=d.length>6&&void 0!==d[6]?d[6]:"a4",s=d.length>7&&void 0!==d[7]?d[7]:150,l=d.length>8&&void 0!==d[8]?d[8]:Be,u=Q(n),l!==Be){e.next=11;break}return e.next=8,Ae(t,i,s,u,a,c);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,De(t,i,s,a,c);case 13:e.t0=e.sent;case 14:(j=e.t0)&&r.file(o,j.output("blob"));case 16:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),We=function(){var e=Object(we.a)(ve.a.mark((function e(t,r,a,c,o,i,s,l,u){var j,d,b,p,h,f,O,x,m;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),e.next=3,n.e(4).then(n.t.bind(null,722,7));case 3:if(j=e.sent,d=j.default,b=t.getSize(),p=t.getView().calculateExtent(b),"string"===typeof(h=r.getUrl())){e.next=10;break}return e.abrupt("return");case 10:if(f=h.split("/").pop()){e.next=13;break}return e.abrupt("return");case 13:if(O=new d,x=O.folder(f),!a||!x){e.next=18;break}return e.next=18,Te(r,x);case 18:if(!c||!x){e.next=21;break}return e.next=21,ze(t,r,x,l,u,"foo.pdf",o,i,s);case 21:return e.next=23,O.generateAsync({type:"blob"});case 23:m=e.sent,Object(Ge.saveAs)(m,"".concat(f,".zip")),t.setSize(b),t.getView().fit(p,{size:b}),u();case 28:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,o,i,s,l){return e.apply(this,arguments)}}(),Xe=n(324),He=n(103),Je=n.n(He),Ke=p.a.bind(Je.a),Ye=Object(a.memo)((function(e){var t=e.children,n=e.onClick,c=e.className,o=e.buttonClassName,i=e.tooltip,s=e.tooltipPlacement,l=void 0===s?"bottom":s,u=Object(F.a)(e,["children","onClick","className","buttonClassName","tooltip","tooltipPlacement"]),j=Object(a.useState)(!1),b=Object(d.a)(j,2),p=b[0],h=b[1],f=Object(a.useRef)(null);Object(a.useEffect)((function(){var e;null===f||void 0===f||null===(e=f.current)||void 0===e||e.addEventListener("click",n);var t=null===f||void 0===f?void 0:f.current;return function(){null===t||void 0===t||t.removeEventListener("click",n)}}));return Object(r.jsxs)("div",{className:Ke(Je.a.ControlButton__container,c),children:[Object(r.jsx)("button",Object(C.a)(Object(C.a)({className:Ke(Je.a.ControlButton,o),type:"button",ref:f},u),{},{children:t})),i&&f.current&&Object(r.jsx)(Xe.a,{placement:l,isOpen:p,target:f.current,toggle:function(){h(!p)},delay:{show:0,hide:0},modifiers:{offset:{offset:"0,5"}},children:i})]})})),qe="checkbox",Ze=function(e){var t=e.map,n=e.source,c=Object(F.a)(e,["map","source"]),o=Object(a.useState)(!1),i=Object(d.a)(o,2),s=i[0],u=i[1],j=Object(a.useState)({includeGPX:!0,includePDF:!0,pdfOption:"all",pdfFormat:"a4",pdfResolution:150}),b=Object(d.a)(j,2),p=b[0],h=b[1],f=Object(l.b)(),O=function(e){var t=e.target,n=t.name,r=t.type,a=t.checked,c=t.value;!function(e,t){h(Object(C.a)(Object(C.a)({},p),{},Object(te.a)({},e,t)))}(n,r===qe?a:c)},x=function(){var e=Object(we.a)(ve.a.mark((function e(){var r,a,c,o,i;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.pdfFormat,a=p.pdfResolution,c=p.includePDF,o=p.includeGPX,i=p.pdfOption,e.next=3,We(t,n,o,c,r,a,i,(function(){return f(le())}),(function(){return f(ue())}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){u(!s)};return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(Ye,Object(C.a)(Object(C.a)({},c),{},{onClick:function(){u(!0)},tooltipPlacement:"right",children:Object(r.jsx)(P.c,{})})),Object(r.jsxs)(ye.a,{isOpen:s,toggle:m,centered:!0,children:[Object(r.jsx)(_e.a,{toggle:m,children:"Download Options"}),Object(r.jsx)(ke.a,{children:Object(r.jsxs)(Pe.a,{children:[Object(r.jsxs)(Ce.a,{children:[Object(r.jsx)(Ce.a,{check:!0,children:Object(r.jsxs)(Fe.a,{check:!0,children:[Object(r.jsx)(Ne.a,{type:"checkbox",name:"includeGPX",checked:p.includeGPX,onChange:O})," ","Include GPX"]})}),Object(r.jsx)(Ce.a,{check:!0,children:Object(r.jsxs)(Fe.a,{check:!0,children:[Object(r.jsx)(Ne.a,{type:"checkbox",name:"includePDF",checked:p.includePDF,onChange:O})," ","Include PDF"]})}),p.includePDF&&Object(r.jsxs)(Ce.a,{style:{paddingLeft:"1.5em"},children:[Object(r.jsxs)(Ce.a,{row:!0,children:[Object(r.jsx)(Fe.a,{for:"pdfFormat",sm:4,children:"Page size"}),Object(r.jsx)(Se.a,{sm:8,children:Object(r.jsxs)(Ne.a,{type:"select",id:"pdfFormat",onChange:O,name:"pdfFormat",value:p.pdfFormat,children:[Object(r.jsx)("option",{value:"a0",children:"A0 (slow)"}),Object(r.jsx)("option",{value:"a1",children:"A1"}),Object(r.jsx)("option",{value:"a2",children:"A2"}),Object(r.jsx)("option",{value:"a3",children:"A3"}),Object(r.jsx)("option",{value:"a4",children:"A4"}),Object(r.jsx)("option",{value:"a5",children:"A5 (fast)"})]})})]}),Object(r.jsxs)(Ce.a,{row:!0,children:[Object(r.jsx)(Fe.a,{for:"pdfFormat",sm:4,children:"Resolution"}),Object(r.jsx)(Se.a,{sm:8,children:Object(r.jsxs)(Ne.a,{type:"select",id:"pdfResolution",onChange:O,name:"pdfResolution",value:p.pdfResolution,children:[Object(r.jsx)("option",{value:"72",children:"72 dpi (fast)"}),Object(r.jsx)("option",{value:"150",children:"150 dpi"}),Object(r.jsx)("option",{value:"300",children:"300 dpi (slow)"})]})})]}),Object(r.jsxs)(Ce.a,{row:!0,children:[Object(r.jsx)(Fe.a,{sm:4,children:"Pages"}),Object(r.jsxs)(Se.a,{sm:8,children:[Object(r.jsx)(Ce.a,{check:!0,children:Object(r.jsxs)(Fe.a,{check:!0,children:[Object(r.jsx)(Ne.a,{type:"radio",name:"pdfOption",value:Be,checked:p.pdfOption===Be,onChange:O})," ","All Stages"]})}),Object(r.jsx)(Ce.a,{check:!0,children:Object(r.jsxs)(Fe.a,{check:!0,children:[Object(r.jsx)(Ne.a,{type:"radio",name:"pdfOption",value:Ve,checked:p.pdfOption===Ve,onChange:O})," ","Current View"]})})]})]})]})]}),p.includePDF&&p.pdfOption===Be&&Object(r.jsx)(Ee.a,{color:"warning",children:"Please note it might take some time to generate the PDF."}),Object(r.jsx)(Ie.a,{onClick:function(){u(!1),x()},disabled:!p.includeGPX&&!p.includePDF,children:"Download"})]})})]})]})},$e=n(93),Qe=n(83),et=n(149),tt=n(89),nt=n.p+"static/media/baseline-my_location-24px-yellow.bf46ab87.svg",rt="mylocation_layer",at="mylocation_feature",ct=function(e){var t=e.map,n=Object(F.a)(e,["map"]),c=Object(l.b)(),o=Object(a.useMemo)((function(){var e=new $e.a({name:"My Location"});return e.setId(at),e.setStyle(new fe.b({image:new et.a({anchor:[.5,.5],src:nt})})),e}),[]),i=Object(a.useMemo)((function(){var e=new ee.a({source:new ce.a({features:[o]})});return e.set("id",rt),e}),[o]);Object(a.useEffect)((function(){return function(){t.removeLayer(i)}}),[o,i,t]);var s=function(e){c(ue());var n=Object(V.d)([e.coords.longitude,e.coords.latitude]);i.getSource().getFeatureById(at).setGeometry(new Qe.a(n)),t.getView().animate({center:n,duration:1e3})};return Object(r.jsx)(Ye,Object(C.a)(Object(C.a)({tooltipPlacement:"right",onClick:function(){"geolocation"in navigator?(c(le()),function(e,t){return e.getLayers().getArray().find((function(e){return e.get("id")===t}))}(t,rt)||t.addLayer(i),navigator.geolocation.getCurrentPosition(s)):alert("Geolocation is not supported in your browser")}},n),{},{children:Object(r.jsx)(tt.b,{})}))},ot=n(90),it=function(e){var t=e.map,n=Object(F.a)(e,["map"]),a=Object(l.b)(),c=function(){var e=Object(we.a)(ve.a.mark((function e(){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(le()),e.next=3,Me(t);case 3:e.sent.save("map.pdf"),a(ue());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)(Ye,Object(C.a)(Object(C.a)({tooltipPlacement:"right",onClick:c},n),{},{children:Object(r.jsx)(ot.c,{})}))},st=function(e){var t=e.map,n=Object(F.a)(e,["map"]);return Object(r.jsx)(Ye,Object(C.a)(Object(C.a)({tooltipPlacement:"right",onClick:function(){t.getView().fit([978823.488305482,5121096.608475749,1039463.1111227559,5245134.752643153],{duration:1e3})}},n),{},{children:Object(r.jsx)(tt.d,{})}))},lt=n(107),ut=n(132),jt=new(n(106).a),dt=new lt.a({collapsible:!0}),bt=new ut.a({units:"metric",minWidth:100}),pt=[jt,dt,bt],ht=n(171),ft=n.n(ht),Ot=p.a.bind(ft.a),xt=function(e){var t=e.map,n=e.source,c=Object(a.createRef)();Object(a.useEffect)((function(){return jt.setTarget(c.current),pt.forEach((function(e){return t.addControl(e)})),function(){pt.forEach((function(e){return t.removeControl(e)}))}}),[]);var o={map:t,className:Ot("MapControls__button-control")};return Object(r.jsxs)("div",{className:ft.a.MapControls,children:[Object(r.jsx)("div",{ref:c}),Object(r.jsx)(st,Object(C.a)({tooltip:"Fit Extent"},o)),Object(r.jsx)(it,Object(C.a)({tooltip:"Export to PDF"},o)),Object(r.jsx)(Ze,Object(C.a)({tooltip:"Download Route and Maps",source:n},o)),Object(r.jsx)(ct,Object(C.a)({tooltip:"Show My Location"},o))]})},mt=n(214),gt=n(56),vt=n(329),wt=n(213),yt=n.n(wt),_t=n(330),kt=Object(a.memo)((function(e){return Object(r.jsx)(Ye,Object(C.a)(Object(C.a)({className:Je.a.ControlButton__close,buttonClassName:Je.a["ControlButton__close-button"]},e),{},{children:Object(r.jsx)(ot.d,{})}))})),Pt=Object(a.memo)((function(e){var t=e.lonLat,n=e.map,a=Object(F.a)(e,["lonLat","map"]);return Object(r.jsx)(Ye,Object(C.a)(Object(C.a)({},a),{},{onClick:function(){n.getView().animate({center:Object(V.d)(t),zoom:18,duration:800})},children:Object(r.jsx)(tt.c,{})}))}));function Ct(){return(Ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ft(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Nt=a.createElement("path",{d:"M12 7C6.48 7 2 9.24 2 12c0 2.24 2.94 4.13 7 4.77V20l4-4-4-4v2.73c-3.15-.56-5-1.9-5-2.73 0-1.06 3.04-3 8-3s8 1.94 8 3c0 .73-1.46 1.89-4 2.53v2.05c3.53-.77 6-2.53 6-4.58 0-2.76-4.48-5-10-5z"}),St=a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"});function Et(e,t){var n=e.title,r=e.titleId,c=Ft(e,["title","titleId"]);return a.createElement("svg",Ct({fill:"currentColor",width:"1.2em",height:"1.2em",viewBox:"0 0 24 24",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,Nt,St)}var It=a.forwardRef(Et),Gt=(n.p,function(e){var t=e.pointName,n=e.embedUrl,c=Object(F.a)(e,["pointName","embedUrl"]),o=Object(a.useState)(!1),i=Object(d.a)(o,2),s=i[0],l=i[1],u=function(){l(!s)};return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(Ye,Object(C.a)(Object(C.a)({},c),{},{onClick:u,children:Object(r.jsx)(It,{})})),Object(r.jsxs)(ye.a,{isOpen:s,toggle:u,centered:!0,style:{maxWidth:"800px"},children:[Object(r.jsxs)(_e.a,{toggle:u,children:[t," 360"]}),Object(r.jsx)(ke.a,{children:Object(r.jsx)("iframe",{title:"Google Maps 360",src:n,width:"100%",height:"450",frameBorder:"0",style:{border:0},allowFullScreen:!0})})]})]})}),Rt=Object(a.memo)((function(e){return Object(r.jsx)(Ye,Object(C.a)(Object(C.a)({},e),{},{children:Object(r.jsx)(ot.b,{})}))})),Lt=Object(a.memo)((function(e){return Object(r.jsx)(Ye,Object(C.a)(Object(C.a)({},e),{},{children:Object(r.jsx)(ot.a,{})}))})),Mt=n(216),Ut=n.n(Mt),At=p.a.bind(Ut.a),Dt=function(e){var t=e.map,n=e.lonLat,a=e.buttonClassName,c=e.onPrevPointButtonClick,o=e.onNextPointButtonClick,i=e.prevFeature,s=e.nextFeature,l=e.google360Url,u=e.name;return Object(r.jsxs)("footer",{className:At("footer"),children:[Object(r.jsx)(Pt,{lonLat:n,map:t,tooltip:"Zoom to Point",className:a}),Object(r.jsx)(Lt,{onClick:c,tooltip:"Previous Point",className:a,disabled:!i}),Object(r.jsx)(Rt,{onClick:o,tooltip:"Next Point",className:a,disabled:!s}),l&&u&&Object(r.jsx)(Gt,{tooltip:"View 360",pointName:u,embedUrl:l,className:a})]})},Bt=n(331),Vt=n(335),Tt=n(336),zt=n(337),Wt=n(147),Xt=n.n(Wt),Ht=p.a.bind(Xt.a),Jt=Object(a.memo)((function(e){var t=e.feature,n=e.nextFeature,a=e.gpxVectorLayer,c=Y(t,n,a);return Object(r.jsx)(zt.a,{borderless:!0,className:Ht("table"),children:Object(r.jsxs)("tbody",{children:[Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"row",children:"Distance:"}),Object(r.jsxs)("td",{children:[c.distanceInKm,"km"]})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"row",children:"Elevation gain:"}),Object(r.jsxs)("td",{children:[c.elevationGainUp,"m"]})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"row",children:"Elevation loss:"}),Object(r.jsxs)("td",{children:[c.elevationGainDown,"m"]})]})]})})})),Kt=p.a.bind(Xt.a),Yt=Object(a.memo)((function(e){var t=e.elevation,n=e.lon,a=e.lat,c=e.hdms;return Object(r.jsx)(zt.a,{borderless:!0,className:Kt("table"),children:Object(r.jsxs)("tbody",{children:[Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"row",children:"Elevation:"}),Object(r.jsxs)("td",{children:[t,"m"]})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"row",children:"Longitude:"}),Object(r.jsx)("td",{children:n})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"row",children:"Latitude:"}),Object(r.jsx)("td",{children:a})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"row",children:"Coordinates:"}),Object(r.jsx)("td",{children:Object(r.jsx)("span",{className:Kt("coordinates"),children:c})})]})]})})})),qt=n(215),Zt=n.n(qt),$t=p.a.bind(Zt.a),Qt=function(e){var t=e.gpxVectorLayer,n=e.feature,c=e.nextFeature,o=e.prevFeature,i=e.elevation,s=e.lon,l=e.lat,u=e.hdms,j=e.scheduleUpdate,b=Object(a.useState)("1"),p=Object(d.a)(b,2),h=p[0],f=p[1],O=function(e){h!==e&&(f(e),j())};return Object(a.useEffect)((function(){f("1")}),[n]),Object(r.jsxs)(Bt.a,{children:[Object(r.jsxs)(m.a,{tabs:!0,children:[Object(r.jsx)(g.a,{children:Object(r.jsx)(v.a,{className:$t({active:"1"===h}),href:"#info",onClick:function(e){e.preventDefault(),O("1")},children:"Info"})}),c&&Object(r.jsx)(g.a,{children:Object(r.jsx)(v.a,{className:$t({active:"2"===h}),href:"next",onClick:function(e){e.preventDefault(),O("2")},children:"Next Point"})}),o&&Object(r.jsx)(g.a,{children:Object(r.jsx)(v.a,{className:$t({active:"3"===h}),href:"#prev",onClick:function(e){e.preventDefault(),O("3")},children:"Previous Point"})})]}),Object(r.jsxs)(Vt.a,{activeTab:h,children:[Object(r.jsx)(Tt.a,{tabId:"1",className:$t("tab-pane"),children:Object(r.jsx)(Yt,{elevation:i,lon:s,lat:l,hdms:u})}),c&&Object(r.jsx)(Tt.a,{tabId:"2",className:$t("tab-pane"),children:Object(r.jsx)(Jt,{gpxVectorLayer:t,feature:n,nextFeature:c})}),o&&Object(r.jsx)(Tt.a,{tabId:"3",className:$t("tab-pane"),children:Object(r.jsx)(Jt,{gpxVectorLayer:t,feature:o,nextFeature:n})})]})]})},en=function(e){var t=e.map,n=e.scheduleUpdate,c=e.onClose,o=e.gpxVectorLayer,i=e.feature,s=e.prevFeature,l=e.nextFeature,u=e.buttonClassName,j=e.coordinates,d=e.selectFeature,b=K(j),p=b.lonLat,h=b.hdms,f=b.elevation,O=i.getProperties(),x=O.name,m=O.google360Url,g=(p[0]||0).toFixed(6),v=(p[1]||0).toFixed(6);return Object(a.useEffect)((function(){n()}),[j,n]),Object(r.jsxs)(a.Fragment,{children:[Object(r.jsxs)(_t.a,{children:[Object(r.jsx)(kt,{onClick:c}),Object(r.jsx)(tt.a,{size:20,style:{verticalAlign:"top"}})," ",x,!s&&" (Start)",!l&&" (Finish)"]}),Object(r.jsx)(Qt,{lon:g,lat:v,hdms:h,elevation:f,gpxVectorLayer:o,feature:i,nextFeature:l,prevFeature:s,scheduleUpdate:n}),Object(r.jsx)(Dt,{map:t,lonLat:p,name:x,nextFeature:l,prevFeature:s,buttonClassName:u,onPrevPointButtonClick:function(){s&&d(s)},onNextPointButtonClick:function(){l&&d(l)},google360Url:m})]})},tn=p.a.bind(yt.a),nn=function(e){var t=e.map,n=e.gpxVectorLayer,c=e.onClose,o=e.isOpen,i=e.feature,s=e.nextFeature,l=e.prevFeature,u=e.selectFeature,j=Object(a.useRef)(null),d=Object(a.useRef)(),b=i.getGeometry().getCoordinates();return Object(a.useEffect)((function(){d.current=new mt.a({element:j.current,positioning:gt.a.CENTER_CENTER}),t.addOverlay(d.current)}),[t]),Object(a.useEffect)((function(){var e;null===(e=d.current)||void 0===e||e.setPosition(b),t.getView().animate({center:b,duration:800})}),[t,i,b]),Object(r.jsx)("div",{id:"popover-container",ref:j,children:Object(r.jsx)(vt.a,{placement:"top",isOpen:o,target:j,container:j,className:tn("Popup"),modifiers:{hide:{enabled:!1},preventOverflow:{enabled:!1},flip:{enabled:!1}},children:function(e){var a=e.scheduleUpdate;return Object(r.jsx)(en,{map:t,onClose:c,gpxVectorLayer:n,feature:i,nextFeature:s,prevFeature:l,scheduleUpdate:a,coordinates:b,buttonClassName:tn("Popup__button-control"),selectFeature:u})}})})},rn=n(210),an=n.p+"static/media/baseline-location_on-24px-yellow.1a07b598.svg",cn=function(e,t,n,r){var a=new $e.a({name:e});return a.setStyle(function(e,t,n){return new fe.b({image:new et.a({anchor:[.5,1],src:t}),text:new rn.a({text:e,fill:new pe.a({color:n}),stroke:new he.a({color:"#ffffff",width:2}),font:"bold 13px Arial",offsetY:12})})}(e,r,n)),a.setId(t),a},on="startPoint",sn="finishPoint",ln=Object(a.memo)((function(e){var t=e.map,n=e.gpxVectorLayer,r=e.gpxUrl,c=e.showMarkers,o=Object(a.useRef)(),i=function(e){var t;null===(t=o.current)||void 0===t||t.setVisible(e)},s=function(){var e=n.getSource();if(e.getState()===ae.a.READY&&e.getFeatures().length){var t,r,a=null===(t=q(e.getFeatures()))||void 0===t?void 0:t.getGeometry();if(!a)return;var c=cn("Start",on,"rgba(0,60,136)",an);c.setGeometry(new Qe.a(a.getFirstCoordinate()));var s=cn("Finish",sn,"rgba(0,60,136)",an);s.setGeometry(new Qe.a(a.getLastCoordinate()));var l=new ce.a({features:[c,s]});null===(r=o.current)||void 0===r||r.setSource(l),i(!0)}};return Object(a.useEffect)((function(){return o.current=new ee.a,o.current.setZIndex(2),t.addLayer(o.current),function(){o.current&&t.removeLayer(o.current)}}),[]),Object(a.useEffect)((function(){return i(!1),n.once("change",s),function(){n.un("change",s)}}),[r]),Object(a.useEffect)((function(){i(c)}),[c]),null})),un=(n(285),n(307),n(217)),jn=n(218),dn=n(228),bn=n(225),pn=n(226),hn=n(222),fn=n(125),On=n(108),xn=On.map((function(e){var t=e.url;return Object(fn.b)(t)})).flat(),mn=function(e){Object(dn.a)(n,e);var t=Object(bn.a)(n);function n(e){var r;return Object(un.a)(this,n),(r=t.call(this,e)).xyzSource=void 0,r.rasterLayer=void 0,r.xyzSource=new hn.a,r.rasterLayer=new pn.a({source:r.xyzSource}),r.rasterLayer.set("id","osmtilelayer"),r}return Object(jn.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.map,n=e.mapUrl;t.addLayer(this.rasterLayer),this.xyzSource.setUrl(n)}},{key:"componentDidUpdate",value:function(){var e=this.props.mapUrl;this.xyzSource.setUrl(e)}},{key:"componentWillUnmount",value:function(){this.props.map.removeLayer(this.rasterLayer)}},{key:"render",value:function(){return Object(r.jsx)(s.a,{children:xn.map((function(e){return Object(r.jsx)("link",{href:new URL(e).origin,rel:"preconnect"},e)}))})}}]),n}(a.Component),gn=n(211),vn=n.n(gn),wn=(n(277),42.184207),yn=9.1079,_n=9,kn=[B.a.POINTERDOWN];function Pn(e){return e.getGeometry().getType()===A.a.POINT&&e.getId()!==on&&e.getId()!==sn}var Cn=function(e){e.children;var t=c.a.createRef(),n=Object(a.useState)(!1),o=Object(d.a)(n,2),i=o[0],s=o[1],u=Object(a.useState)(),j=Object(d.a)(u,2),b=j[0],p=j[1],h=Object(a.useState)(),f=Object(d.a)(h,2),O=f[0],x=f[1],m=Object(l.c)((function(e){return e.settings})),g=m.mapUrl,v=m.gpxUrl,w=m.showControls,y=m.showMarkers,_=m.showRoute,k=Object(a.useMemo)((function(){return new D.a({pixelRatio:1,controls:[]})}),[]),P=b&&O&&function(e,t){var n=t.indexOf(e);return t[n+1]}(b,O),C=b&&O&&function(e,t){var n=t.indexOf(e);return t[n-1]}(b,O),F=Object(a.useCallback)((function(){s(!1)}),[]),N=function(e){var t;if("canvas"===(null===(t=e.originalEvent)||void 0===t?void 0:t.target).nodeName.toLowerCase()){var n=k.getEventPixel(e.originalEvent),r=[];k.forEachFeatureAtPixel(n,(function(e){r.push(e)}));var a=r.find(Pn);k.getTarget().style.cursor=a?"pointer":""}},S=function(e){var t,n=k.getFeaturesAtPixel(e.pixel,{hitTolerance:4});if(n&&n.length){var r=n.find(Pn);r&&(e.preventDefault(),p(r),s(!0))}else"canvas"===(null===(t=e.originalEvent)||void 0===t?void 0:t.target).nodeName.toLowerCase()&&s(!1)},E=Object(a.useCallback)((function(e){p(e)}),[]);Object(a.useEffect)((function(){var e=wn,n=yn,r=_n,a=t.current;if(a){var c=new T.a({center:Object(V.d)([n,e]),zoom:r});k.setTarget(a),k.setView(c),k.on("pointermove",N)}return kn.forEach((function(e){return k.on(e,S)})),function(){a&&k.un("pointermove",N),kn.forEach((function(e){return k.un(e,S)}))}}),[]);var I=Object(a.useCallback)((function(e){var t=Q(e);x(t)}),[]);return Object(r.jsxs)("div",{className:vn.a.Map,ref:t,children:[Object(r.jsx)(me,{gpxUrl:v,showMarkers:y,showRoute:_,onSourceReady:I,map:k,children:function(e){return Object(r.jsxs)(a.Fragment,{children:[w&&Object(r.jsx)(xt,{map:k,source:e.getSource()}),Object(r.jsx)(ln,{map:k,gpxVectorLayer:e,showMarkers:y,gpxUrl:v}),b&&Object(r.jsx)(nn,{map:k,gpxVectorLayer:e,feature:b,nextFeature:P,prevFeature:C,isOpen:i,onClose:F,selectFeature:E})]})}}),Object(r.jsx)(mn,{map:k,mapUrl:g})]})},Fn=n.p+"static/media/corcega-gr20-calenzana-conca.746c310a.gpx",Nn=n.p+"static/media/gr-20-corcega-track-completo.a30138e6.gpx",Sn=[{name:"corcega-gr20-calenzana-conca",url:Fn},{name:"GR-20 Complete North South",url:n.p+"static/media/gr20-2018-complete-northsouth.8025a3a8.gpx",samplingDistance:800},{name:"Route 2",url:n.p+"static/media/gr20.7a7912e7.gpx",samplingDistance:100},{name:"gr-20-corcega-track-completo",url:Nn,samplingDistance:100}],En={mapUrl:On[0].url,gpxUrl:Sn[0].url,showElevationProfile:!1,showControls:!0,showMarkers:!0,showRoute:!0},In=Object(oe.b)({name:"Settings",initialState:En,reducers:{updateSettings:function(e,t){Object.assign(e,t.payload)}}}),Gn=In.actions.updateSettings,Rn=In.reducer,Ln=n(317),Mn=n(318),Un=n(343),An=n(319),Dn=n(320),Bn=n(342),Vn=function(e){var t=e.children,n=Object(a.useState)(!1),c=Object(d.a)(n,2),o=c[0],i=c[1];return Object(r.jsx)(Bn.a,{isOpen:o,toggle:function(){i(!o)},onMouseEnter:function(){i(!0)},onMouseLeave:function(){i(!1)},children:t})},Tn=n(168),zn=n.n(Tn),Wn=function(e){var t=e.onChange,n=e.options,a=e.values,c=function(e){var n=e.target,r=n.name,a=n.type,c=n.checked,o=n.value;t(r,a===qe?c:o)};return Object(r.jsx)("form",{className:zn.a.DropdownGroup,children:Object(r.jsx)(Ln.a,{children:Object(r.jsx)(Mn.a,{children:n.map((function(e){var n=e.label,o=e.name,i=e.type,s=e.items;return Object(r.jsxs)(Vn,{children:[Object(r.jsx)(Un.a,{caret:!0,color:"secondary",className:zn.a.DropDown,children:n}),Object(r.jsx)(An.a,{right:!0,children:s.map((function(e){var n=e.name,s=e.label,l=e.url;return"formGroup"===i?Object(r.jsx)(Dn.a,{children:Object(r.jsx)(Ce.a,{check:!0,children:Object(r.jsxs)(Fe.a,{check:!0,onClick:function(e){e.stopPropagation()},children:[Object(r.jsx)(Ne.a,{name:n,type:"checkbox",checked:!!a[n],onChange:c})," ",s]})})},n):Object(r.jsxs)(Dn.a,{onClick:function(){l&&t(o,l)},children:[l===a[o]?Object(r.jsx)(P.b,{}):Object(r.jsx)("span",{style:{paddingLeft:"1em",display:"inline-block"}})," ",n]},n)}))})]},n)}))})})})},Xn=[{label:"Routes",name:"gpxUrl",items:Sn},{label:"Layers",name:"mapUrl",items:On},{label:"Options",name:"options",type:"formGroup",items:[{name:"showControls",label:"Show controls"},{name:"showMarkers",label:"Show markers"},{name:"showRoute",label:"Show route"}]}],Hn=function(){var e=Object(l.c)((function(e){return e.settings})),t=Object(l.b)();return Object(r.jsx)(Wn,{options:Xn,values:e,onChange:function(e,n){t(Gn(Object(te.a)({},e,n)))}})},Jn=n(167),Kn=n.n(Jn);Kn.a.config({barColors:{0:"yellow","1.0":"yellow"},shadowBlur:5,barThickness:3});var Yn=function(e){var t=Object(l.c)((function(e){return e.spinner})).isVisible;return document.body.style.cursor=t?"progress":"default",t?Object(r.jsx)(Kn.a,{}):null},qn=n(206),Zn=n.n(qn),$n=function(){return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(s.a,{children:Object(r.jsx)("title",{children:"GR-20 - The Route"})}),Object(r.jsxs)("div",{className:Zn.a.MapPage,children:[Object(r.jsx)(Yn,{}),Object(r.jsx)(Hn,{}),Object(r.jsx)(Cn,{})]})]})},Qn=n(220),er=n.n(Qn),tr=function(){return Object(r.jsxs)("div",{className:er.a.NotFoundPage,children:[Object(r.jsx)(s.a,{children:Object(r.jsx)("title",{children:"404 Not Found"})}),Object(r.jsx)("h1",{children:"Not Found"}),Object(r.jsx)(u.b,{to:"/",children:"Go Home \xbb"})]})},nr=n(204),rr=n.n(nr),ar=function(){return Object(r.jsx)("div",{className:rr.a.App,children:Object(r.jsx)(u.a,{basename:"/gr-20",children:Object(r.jsxs)(j.c,{children:[Object(r.jsx)(j.a,{path:"/",exact:!0,component:U}),Object(r.jsx)(j.a,{path:"/map/",exact:!0,component:$n}),Object(r.jsx)(j.a,{path:"/about/",exact:!0,component:k}),Object(r.jsx)(j.a,{component:tr})]})})})},cr=(n(255),function(e){e&&e instanceof Function&&n.e(8).then(n.bind(null,723)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}),(function(e){console.error(e)}))}),or=n(70),ir=Object(or.c)({settings:Rn,spinner:je}),sr=Object(oe.a)({reducer:ir,middleware:Object(oe.c)()});i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(l.a,{store:sr,children:Object(r.jsx)(s.b,{children:Object(r.jsx)(ar,{})})})}),document.getElementById("root")),cr()}},[[313,1,3]]]);
//# sourceMappingURL=main.84e5760c.chunk.js.map