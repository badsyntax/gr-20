(this["webpackJsonpgr-20"]=this["webpackJsonpgr-20"]||[]).push([[3],{673:function(e,t,n){"use strict";n.r(t),n.d(t,"addGPXToZip",(function(){return f})),n.d(t,"addPDFToZip",(function(){return l})),n.d(t,"downloadZipFile",(function(){return b}));var r=n(157),a=n.n(r),i=n(158),c=n(402),s=n(403),u=n.n(s),o=n(184),p=n(106),f=function(){var e=Object(i.a)(a.a.mark((function e(t,n){var r,i,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof(r=t.getUrl())){e.next=10;break}return e.next=4,fetch(r);case 4:return i=e.sent,e.next=7,i.text();case 7:c=e.sent,(s=r.split("/").pop())&&n.file(s,c);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(i.a)(a.a.mark((function e(t,r,i,c,s){var u,f,l,b,d,x,g,h,v,w=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=w.length>5&&void 0!==w[5]?w[5]:"map.pdf",f=w.length>6&&void 0!==w[6]?w[6]:"a4",l=w.length>7&&void 0!==w[7]?w[7]:150,b=w.length>8&&void 0!==w[8]?w[8]:o.b,d=Object(p.h)(r),e.next=7,Promise.all([n.e(16),n.e(8)]).then(n.bind(null,400));case 7:if(x=e.sent,g=x.getCurrentViewPDF,h=x.getMultiStagePDF,b!==o.b){e.next=16;break}return e.next=13,h(t,f,l,d,c,s);case 13:e.t0=e.sent,e.next=19;break;case 16:return e.next=18,g(t,f,l,c,s);case 18:e.t0=e.sent;case 19:(v=e.t0)&&i.file(u,v.output("blob"));case 21:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),b=function(){var e=Object(i.a)(a.a.mark((function e(t,n,r,i,s,o,p,b,d){var x,g,h,v,w,k,y;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(),x=t.getSize(),g=t.getView().calculateExtent(x),"string"===typeof(h=n.getUrl())){e.next=6;break}return e.abrupt("return");case 6:if(v=h.split("/").pop()){e.next=9;break}return e.abrupt("return");case 9:if(w=new u.a,k=w.folder(v),!r||!k){e.next=14;break}return e.next=14,f(n,k);case 14:if(!i||!k){e.next=17;break}return e.next=17,l(t,n,k,b,d,"foo.pdf",s,o,p);case 17:return e.next=19,w.generateAsync({type:"blob"});case 19:y=e.sent,Object(c.saveAs)(y,"".concat(v,".zip")),t.setSize(x),t.getView().fit(g,{size:x}),d();case 24:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,c,s,u,o){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=download-util.fe204d98.chunk.js.map